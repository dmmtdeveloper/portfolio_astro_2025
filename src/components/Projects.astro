---
import GitHub from "@components/icons/GitHub.astro";
import NextJS from "@components/icons/NextJS.astro";
import Tailwind from "@components/icons/Tailwind.astro";
import SocialPill from "@components/SocialPill.astro";
import TitleSection from "./TitleSection.astro";
import Code from "./icons/Code.astro";
import LinkButton from "./LinkButton.astro";
import Link from "./icons/Link.astro";
import Animation from "./animation/Animation.astro";

const TAGS = {
  NEXT: {
    name: "Next.Js",
    color: "bg-black text-white",
    icon: NextJS,
  },

  TAILDWIND: {
    name: "Tailwind CSS",
    color: "bg-[#003159]",
    icon: Tailwind,
  },
};

const PROJECTS = [
  {
    title: "Enregla - grabado de patentes",
    description:
      "Creada y diseñada desde cero con Next.Js y Tailwind CSS optimizada en CEO y performance, el diseño previamente se realizo en figma.",
    link: "https://www.enreglaintegral.cl/",
    github: "https://github.com/dmmtdeveloper/enregla-web",
    imageWhite: "/projects/enregla-white.webp",
    imageDark: "/projects/enregla-dark.webp",
    tags: [TAGS.NEXT, TAGS.TAILDWIND],
  },
  {
    title: "Enregla - grabado de patentes",
    description:
      "Creada y diseñada desde cero con Next.Js y Tailwind CSS optimizada en CEO y performance, el diseño previamente se realizo en figma.",
    link: "https://www.enreglaintegral.cl/",
    github: "https://github.com/dmmtdeveloper/enregla-web",
    imageWhite: "/projects/enregla-white.webp",
    imageDark: "/projects/enregla-dark.webp",
    tags: [TAGS.NEXT, TAGS.TAILDWIND],
  },
  {
    title: "Enregla - grabado de patentes",
    description:
      "Creada y diseñada desde cero con Next.Js y Tailwind CSS optimizada en CEO y performance, el diseño previamente se realizo en figma.",
    link: "https://www.enreglaintegral.cl/",
    github: "https://github.com/dmmtdeveloper/enregla-web",
    imageWhite: "/projects/enregla-white.webp",
    imageDark: "/projects/enregla-dark.webp",
    tags: [TAGS.NEXT, TAGS.TAILDWIND],
  },
];
---

<section id="proyectos" data-section="proyectos" class="pt-32 flex flex-col">
  <TitleSection>
    <Code class="size-8" />
    Proyectos
  </TitleSection>

  <div class="flex flex-col gap-16">
    {
      PROJECTS.map(({ title, description, link, tags, imageWhite, imageDark, github }) => (
        <div>
          <Animation>
            <article class="flex flex-col space-x-0 space-y-8 group md:flex-row md:space-x-8 md:space-y-0 mt-8">
              <div
                class="relative flex flex-col items-center 
                          col-span-6 row-span-5 gap-8 transition duration-500 
                          ease-in-out transform shadow-xl overflow-clip rounded-xl 
                          sm:rounded-xl md:group-hover:-translate-y-1 md:group-hover:shadow-2xl 
                          lg:border dark:lg:border-gray-800 
                          lg:hover:border-gray-400 
                          lg:border-gray-300 
                          dark:lg:hover:bg-gray-800/50"
              >
                <a href={link} rel="noopener noreferrer" target="_blank">
                  <img
                    class="rounded-2xl w-330 h-65 object-cover flex items-center dark:hidden transition duration-500  md:scale-110 md:group-hover:scale-105"
                    src={imageWhite}
                    alt={`captura de pantalla del proyecto ${imageWhite}`}
                    loading="lazy"
                  />
                  <img
                    class="rounded-2xl w-330 h-65 object-cover items-center hidden dark:flex transition duration-500  md:scale-110 md:group-hover:scale-105"
                    src={imageDark}
                    alt={`captura de pantalla del proyecto ${imageDark}`}
                    loading="lazy"
                  />
                </a>
              </div>
              <div>
                <h3 class="text-2xl font-semibold text-black mb-2 dark:text-white">{title}</h3>
                <ul class="flex gap-x-4 flex-row pt-2">
                  {tags.map((tag) => (
                    <li>
                      <span class={`flex text-xs rounded-full gap-2 py-1 px-4 text-white ${tag.color}`}>
                        <tag.icon class="size-4" />
                        {tag.name}
                      </span>
                    </li>
                  ))}
                </ul>
                <p class="mt-2 text-gray-700 dark:text-gray-400">{description}</p>

                <footer class="flex items-end justify-start mt-4 gap-x-4 ">
                  {github && (
                    <LinkButton href={github}>
                      <GitHub />
                      Code
                    </LinkButton>
                  )}
                  {link && (
                    <LinkButton href={link}>
                      <Link />
                      Preview
                    </LinkButton>
                  )}
                </footer>
              </div>
            </article>
          </Animation>
        </div>
      ))
    }
  </div>
</section>
